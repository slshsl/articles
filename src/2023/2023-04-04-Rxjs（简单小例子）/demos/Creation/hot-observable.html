<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<button id="hello">helloButton</button>
		<script src="./rxjs.js"></script>
		<script>
			const { Observable } = rxjs;

			const helloButton = document.querySelector('button#hello');
			const helloclick$ = new Observable((subscriber) => {
				helloButton.addEventListener('click', (event) => {
					subscriber.next(event);
				});
			});

			helloclick$.subscribe((event) =>
				console.log('Sub 1:', event.type, event.x, event.y)
			);

			setTimeout(() => {
				console.log('Subscription 2 starts');
				helloclick$.subscribe((event) =>
					console.log('Sub 2:', event.type, event.x, event.y)
				);
			}, 5080);

			// 对于hot observable，每次订阅同样要执行observable里的逻辑，主要区别的数据的源不是observable内部产生的
			// 数据是来源于点击事件，每次订阅都会给helloButton注册一个点击事件，当按钮点击时，所有订阅者都会收到点击事件产生的数据
		</script>
	</body>
</html>
